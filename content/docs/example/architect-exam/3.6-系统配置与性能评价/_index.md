---
weight: 6
title: 3.6 系统配置与性能评价
---


## 课程内容提要 ✌

- 1. 性能指标&emsp;&emsp;&emsp;&emsp;&emsp;✅
- 2. 阿姆达尔解决方案&emsp;✅✅✅
- 3. 性能评价方法&emsp;&emsp;&emsp;✅✅✅

## 1 性能指标

---

&emsp;&emsp;对计算机评价的主要性能指标有时钟频率、数据处理速率、运算精度和内存容量等。其中，时钟频率是指CPU在单位时间内输出的脉冲数，它在很大程度上决定了计算机的运行速度，单位为MHz(或GHz)。数据处理速率是个综合性的指标，单位为MIPS (百万条指令/秒)。影响运算速度的因素主要是时钟频率和存取周期，字长和存储容量也有影响。内存容量是指内存储器中能存储的信息总字节数。常以8个二进制位(bit) 作为一个字节 (Byte)。对数据库管理系统评价的主要性能指标有最大连接数、数据库所允许的索引数量和最大并发事务处理能力等。

[![pCMmUyQ.md.png](https://s1.ax1x.com/2023/06/16/pCMmUyQ.md.png)](https://imgse.com/i/pCMmUyQ)

**字长**：cpu一次读取数据的长度，它也影响着最大的内存容量(最大地址)。2^32 = 4G，32位操作系统最大支持4GB内存。

**主存容量**：32位操作系统最大支持4GB内存。

**存取速度**：存取速度和cache的命中率相关。

**运算速度**：主频：(单位时间内的脉冲数)2.4GHz，主频=外频*倍频，CPU时钟周期：1/主频。在计算机中，处理器的运算主要依赖于晶振芯片给CPU提供的脉冲频率，处理器的运算速度也依赖于这个晶振芯片。通常CPU的频率分为主频、倍频和外频。主频是指CPU内部的时钟频率，是CPU进行运算时的工作频率。外频是指CPU与周边设备传输数据的频率，具体是指CPU到芯片组之间的总线速度。倍频是指CPU频率和系统总线频率之间相差的倍数，CPU速度可以通过倍频来无限提升。

**每秒执行百万次指令数**：峰值MIPS(每秒百万次指令数)用来描述计算机的定点运算速度，通过对计算机指令集中基本指令的执行速度计算得到。假设某计算机中基本指令的执行需要5个机器周期，每个机器周期为3微秒，则该计算机的定点运算速度为：每完成一个基本指令需要5*3=15微秒，根据峰值MIPS的定义，其定点运算速度为1/15=0.067MIPS，特别需要注意单位“微秒”和“百万指令数”，在计算过程中恰好抵消。

[![p9zbE1s.md.png](https://s1.ax1x.com/2023/06/02/p9zbE1s.md.png)](https://imgse.com/i/p9zbE1s)

- 性能瓶颈调整

&emsp;&emsp;计算机的性能包括的面很广，不单是CPU的利用率。即使CPU的利用率已经接近100%.这只说明目前计算机正在运行大型计算任务。其他方面的任务可能被外设阻塞着，而改进外设成为当前必须解决的瓶颈问题。

&emsp;&emsp;如果磁盘存取速度低，则应增加新的磁盘或更换使用更先进的磁盘。安装更快的CPU不能解决磁盘存取速度问题。

&emsp;&emsp;多处理机的性能并不能正比于CPU的数目，因为各个CPU之间需要协调，需要花费一定的开销。

&emsp;&emsp;使用虚存的计算机系统如果主存太小，则主存与磁盘之间交换页面的频率将增加，业务处理效率就会降低，此时应当增加更多的内存。这就是说，除CPU主频外，内存大小对计算机实际运行的处理速度也密切相关。

[![pCMmfm9.md.png](https://s1.ax1x.com/2023/06/16/pCMmfm9.md.png)](https://imgse.com/i/pCMmfm9)

>例题
[![pCMmhwR.md.png](https://s1.ax1x.com/2023/06/16/pCMmhwR.md.png)](https://imgse.com/i/pCMmhwR)
{{< expand "学霸肯定对了">}}D A{{< /expand >}}

- 性能监控

&emsp;&emsp;进行系统监视通常有三种方式:一是通过系统命令，如UNIX/Linux系统中的ps、last等;二是通过系统记录文件查阅系统在特定时间内的运行状态;三是集成命令、文件记录和可视化技术的监控工具，如Perfmon (Performance Monitor)是Windows自带的性能监控工具，提供了图表化的系统性能实时监视器、性能日志和警报管理。通过添加性能计数器 (Performance Co inter)可以实现对CPU、内存、网络、磁盘、进程等多类对象的上百个指标的监控。

&emsp;&emsp;而这些都不属于性能监控工具：Windows的netstat命令用来查看某个端口号是否被占用以及由哪个进程占用。iptables是在Linux2.4内核之后普遍使用的基于包过滤的防火墙工具，可以对流入和流出服务器的数据包进行很精细的控制。top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况。

## 2 阿姆达尔解决方案

---

>例题
[![p9zbtnx.md.png](https://s1.ax1x.com/2023/06/02/p9zbtnx.md.png)](https://imgse.com/i/p9zbtnx)
{{< expand "学霸肯定对了">}}答案：B

100/52{{< /expand >}}
[![pCMmXmd.md.png](https://s1.ax1x.com/2023/06/16/pCMmXmd.md.png)](https://imgse.com/i/pCMmXmd)
{{< expand "学霸肯定对了">}}答案：B

求极限就行，1/0.1n{{< /expand >}}

## 3 性能评价方法

---

&emsp;&emsp;对运行系统进行评估的主要目的是评价信息系统在性能方面的表现，找出系统可能存在的性能瓶颈。

&emsp;&emsp;常见的Web服务器性能评估方法有基准测试、压力测试和可靠性测试等。

&emsp;&emsp;评价Web服务器的主要性能指标有最大并发连接数、响应延迟和吞叶量等。

&emsp;&emsp;当系统性能降到基本水平时需要查找影响性能的瓶颈并消除该瓶颈。

**基准程序法**:把应用程序中用得最多、最频繁的那部分**核心程序**作为评估计算机系统性能的标准程序，称为基准测试程序 (benchmark)。基准程序法是目前一致承认的测试系统性能的较好方法。

**测试准确度排名**：真实的程序 > 核心程序 > 小型基准程序 > 合成基准程序

&emsp;&emsp;在大多数情况下，为测试新系统的性能，用户必须依靠评价程序来评价机器的性能。对于真实程序、核心程序、小型基准程序和合成基准程序来说，其评测程度依次递减。我们把应用程序中用的最多、最频繁的那部分核心程序作为评价计算机性能的标准程序，称为基准测试程序(Benchmark)。

&emsp;&emsp;事务处理性能委员会是制定商务应用基准程序(Benchmark)标准规范，并管理测试结果发布的非营利组织，其发布的TPC-C是**在线事务处理**的其准程序。TPC_D是决策支持的基准程序。

>例题
[![pCMnekq.md.png](https://s1.ax1x.com/2023/06/16/pCMnekq.md.png)](https://imgse.com/i/pCMnekq)
{{< expand "学霸肯定对了">}}答案：C A{{< /expand >}}
[![pCMnlX4.md.png](https://s1.ax1x.com/2023/06/16/pCMnlX4.md.png)](https://imgse.com/i/pCMnlX4)
{{< expand "学霸肯定对了">}}答案：A B{{< /expand >}}
[![pCMn8B9.md.png](https://s1.ax1x.com/2023/06/16/pCMn8B9.md.png)](https://imgse.com/i/pCMn8B9)
{{< expand "学霸肯定对了">}}答案：B{{< /expand >}}

## 课后习题

---

todo 补充课后习题

