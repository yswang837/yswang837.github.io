# 5 存储管理
## 1 分页存储管理
&emsp;&emsp;逻辑页分为页号和页内地址，页内地址就是物理偏移地址，而页号与物理块号并非按序对应的需要查询页表，才能得知页号对应的物理块号，再用物理块号加上偏移地址才得出了真正运行时的物理地址。\
[![p9hmT7F.md.png](https://s1.ax1x.com/2023/05/19/p9hmT7F.md.png)](https://imgse.com/i/p9hmT7F)
- 页面置换算法\
**最优算法**:0PT，理论上的算法，无法实现，是在进程执行完后进行的最佳效率计算，用来让其他算法比较差距。原理是选择未来最长时间内不被访问的页面置换，这样可以保证未来执行的都是马上要访问的。\
**先进先出算法**:FIFO，先调入内存的页先被置换淘汰，会产生抖动现象，即分配的页帧数越多缺页率可能越多(即效率越低)。\
**最近最少使用**:LRU，在最近的过去，进程执行过程中，过去最少使用的页面被置换淘汰，根据局部性原理，这种方式效率高，且不会产生抖动现象，使用大量计数器，但是没有LFU多。\
**淘汰原则**:优先淘汰最近未访问的，而后淘汰最近未被修改的页面。\
**快表**:是一块小容量的相联存储器，由快速存储器组成，按内容访问，速度快，并且可以从硬件上保证按内容并行查找，一般用来存放当前访问最频繁的少数活动页面的页号。快表是将页表存于Cache中;慢表是将页表存于内存上。慢表需要访问两次内存才能取出页，而快表是访问一次Cache和一次内存，因此更快。\
[![p9hnenf.md.png](https://s1.ax1x.com/2023/05/19/p9hnenf.md.png)](https://imgse.com/i/p9hnenf)
[![p9hn33n.md.png](https://s1.ax1x.com/2023/05/19/p9hn33n.md.png)](https://imgse.com/i/p9hn33n)
## 2 分段存储管理
&emsp;&emsp;将进程空间分为一个个段，每段也有段号和段内地址，与页式存储不同的是，每段物理大小不同，分段是根据逻辑整体分段的，因此，段表也与页表的内容不同，页表中直接是逻辑页号对应物理块号，而下图所示，段表有段长和基址两个属性，才能确定一个逻辑段在物理段中的位置。\
[![p9hndN4.md.png](https://s1.ax1x.com/2023/05/19/p9hndN4.md.png)](https://imgse.com/i/p9hndN4)
[![p9hnw4J.md.png](https://s1.ax1x.com/2023/05/19/p9hnw4J.md.png)](https://imgse.com/i/p9hnw4J)
