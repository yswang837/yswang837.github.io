<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="目录 ✌ # 本章内容在上午的选择题和下午的案例分析题中都会涉及到，在下午的案例分析题里面考到过视图、规范化理论、反规范化理论等；相对比较重要，正常约占4~9分，占比5.3%~12%
1 数据库模式 ✅✅✅ # 数据库模式一句话概括为三级模式两级映像；其中三级模式分别是：外模式(用户模式、子模式)、模式(概念模式)、内模式；两级映像分别是：外模式与模式之间的映像、模式与内模式之间的映像。如下图所示。
外模式 外模式是面向用户或者应用程序的数据库局部视图。它是从模式导出的一个子集(在golang中同切片和数组的关系类似)，外模式包含模式中允许特定用户使用的那部分数据。外模式反映了数据库的用户观。
模式 又称概念模式或逻辑模式，它是对数据库中全部数据的逻辑结构和特征的总体描述，是所有用户的公共数据视图(全局视图)。模式反映了数据库系统(DBS)的整体观。
内模式： 又称存储模式，对应于物理级。它是数据库中全体数据的内部表示或底层描述，是数据库最低一级描述，它描述了数据在存储介质上的存储方式和物理结构，对应着实际存储在外存储介质上的数据库。它是数据库的存储观。创建索引改变的是数据库的内模式。
外模式-模式（保证了数据的逻辑独立性） 用户应用程序根据外模式进行数据操作，通过外模式—模式映射，定义和建立某个外模式与模式间的对应关系(加一层)，将外模式与模式联系起来，当模式发生改变时，只要改变其映射，就可以使外模式保持不变，对应的应用程序也可保持不变。
模式-内模式（保证了数据的物理独立性） 通过模式—内模式映射，定义建立数据的逻辑结构（模式）与存储结构（内模式）间的对应关系(加一层)，当数据存储结构发生变化时，只需改变模式—内模式映射，就能保持模式不变，因此应用程序也可以保持不变。
关系的3种类型 基本关系 (通常又称为基本表或基表) : 实际存在的表，实际存储数据的逻辑表示。
查询表:查询结果对应的表。
视图表:由基表或其他视图表导出的表，本身不独立存储，数据库只存放它的定义，常称为虚表。
2 数据库设计 ✅✅✅ # 数据库设计依次包含阶段，分别是：需求分析、概念结构设计、逻辑结构设计、物理设计阶段。
需求分析产物有：数据流图、数据字典、需求说明书，概念结构设计的产物有：ER图，逻辑结构设计的产物有：关系模式，还需要考虑ER图转关系模式的转换规则和规范化相关的一些东西，物理设计考虑的是具体的物理存储、物理分布等。
例题 学霸肯定对了 ↕ C 学霸肯定对了 ↕ C 2.1 需求分析 ✅✅ # 根据当前和未来应用的数据要求、数据处理要求来进行需求分析，此阶段的产物有：数据流图、数据字典、需求说明书。注意：数据流图本身是很重要的，在结构化需求分析SA中会详细讲到。
2.2 概念结构设计 ✅✅ # 概念结构设计也就是通过需求分析的结果来获得ER图的过程。下图是示例的ER图：
ER图就是实体联系图，两个不同的实体集之间有三种联系，分别是1:1,1:m,m:n。上图是m:n的多对多关系(联系的类型需要会判断)。
E-R图具体的建立过程 合并的方法：一次集成：多个局部E-R图一次集成；逐步集成：用累加的方式一次集成两个局部E-R。
合并时冲突的分类：属性冲突：属性域冲突或属性取值冲突；命名冲突：同名异义和异名同义；结构冲突：同一对象在不同应用中具有不同的抽象，以及同一实体在不同局部E-R图中所包含的属性个数不完全相同。
2.3 逻辑结构设计 ✅✅✅✅ # 逻辑结构设计的产物是关系模式，关系模式(关系模型) = ER图 &#43; 转换规则和规范化理论。
数据模型三要素：数据结构、数据操作、数据的约束条件。数据模型包括层次模型、网状模型、面向对象模型、关系模型。
关系模型的相关概念 以下的几种表达形式都表示了同一个关系模型。 以学生、选课关系为例，说明关系模型中的相关概念。其中：学生(学号，姓名，年龄，班级编号)和选课(学号，课程号，课程名)。
1、学生关系是一个4目关系；选课关系是一个3目关系。
2、学生关系的候选码只有一个，是学号；选课关系的候选码也只有一个，是(学号，课程号)。
3、学生关系的主键是学号；选课关系的主键是(学号，课程号)。">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="3.3 数据库系统" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://yswang837.github.io/docs/example/architect-exam/3.3-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" />

<title>3.3 数据库系统 | hello 小代</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/zh.search.min.684034f5c58b8b088c7f8f1eafb77a3f3052be89df9dcdedfc6ba2e46e2f8b9f.js" integrity="sha256-aEA09cWLiwiMf48er7d6PzBSvonfnc3t/Gui5G4vi58=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="https://yswang837.github.io/docs/example/architect-exam/3.3-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/index.xml" title="hello 小代" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>hello 小代</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="搜索" aria-label="搜索" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/example/" class="">介绍</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0172079bf31c2e1230a2ba418e74787a" class="toggle"  />
    <label for="section-0172079bf31c2e1230a2ba418e74787a" class="flex justify-between">
      <a href="/docs/example/golang/" class="">1. golang - 专题精讲</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/golang/1-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="">1 并发</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-777a1736a727cd6e825002af5c691cae" class="toggle"  />
    <label for="section-777a1736a727cd6e825002af5c691cae" class="flex justify-between">
      <a href="/docs/example/gin/" class="">2. gin杂谈</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6c4eae7067e5dfff5c2e4406248debee" class="toggle" checked />
    <label for="section-6c4eae7067e5dfff5c2e4406248debee" class="flex justify-between">
      <a href="/docs/example/architect-exam/" class="">3. 高级软考 - 系统架构师</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" class="">3.1 计算机组成与体系结构</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.2-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="">3.2 操作系统</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.3-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" class="active">3.3 数据库系统</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.4-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="">3.4 计算机网络</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.5-%E6%95%B0%E5%AD%97%E4%B8%8E%E7%BB%8F%E6%B5%8E%E7%AE%A1%E7%90%86/" class="">3.5 数字与经济管理</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.6-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%80%A7%E8%83%BD%E8%AF%84%E4%BB%B7/" class="">3.6 系统配置与性能评价</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.7-%E7%9F%A5%E8%AF%86%E4%BA%A7%E6%9D%83%E4%B8%8E%E6%A0%87%E5%87%86%E5%8C%96/" class="">3.7 知识产权与标准化</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.8-%E4%BC%81%E4%B8%9A%E4%BF%A1%E6%81%AF%E5%8C%96%E6%88%98%E7%95%A5%E4%B8%8E%E5%AE%9E%E6%96%BD/" class="">3.8 企业信息化战略与实施</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" class="">3.9 软件工程</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/1-%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%96%B9%E6%B3%95/" class="">1) 软件开发方法</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2-%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A8%A1%E5%9E%8B/" class="">2) 软件开发模型</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/3-%E9%9C%80%E6%B1%82%E5%B7%A5%E7%A8%8B/" class="">3) 需求工程</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/4-%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" class="">4) 系统设计</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/5-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1/" class="">5) 软件系统建模</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/6-%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E8%AF%95/" class="">6) 软件测试与调试</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/7-%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E4%B8%8E%E8%BD%AF%E4%BB%B6%E7%BB%B4%E6%8A%A4/" class="">7) 系统运行与软件维护</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="">3.10 软件架构设计</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/1-%E6%9E%B6%E6%9E%84%E7%9A%84%E6%A6%82%E8%BF%B0/" class="">1) 软件架构的概述</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/2-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC/" class="">2) 软件架构风格</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/3-%E7%89%B9%E5%AE%9A%E9%A2%86%E5%9F%9F%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84/" class="">3) 特定领域软件架构</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/4-%E5%9F%BA%E4%BA%8E%E6%9E%B6%E6%9E%84%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/" class="">4) 基于架构的软件开发</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/5-%E8%BD%AF%E4%BB%B6%E8%B4%A8%E9%87%8F%E5%B1%9E%E6%80%A7/" class="">5) 软件质量属性</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/6-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AF%84%E4%BC%B0/" class="">6) 软件架构评估</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/7-%E8%BD%AF%E4%BB%B6%E4%BA%A7%E5%93%81%E7%BA%BF/" class="">7) 软件产品线</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/8-%E6%9E%84%E4%BB%B6%E4%B8%8E%E4%B8%AD%E9%97%B4%E4%BB%B6%E6%8A%80%E6%9C%AF/" class="">8) 构建与中间件技术</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.10-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/9-web%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="">9) web架构设计</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.11-%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E6%80%A7%E5%92%8C%E5%8F%AF%E9%9D%A0%E6%80%A7/" class="">3.11 系统安全性和可靠性</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.12-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" class="">3.12 项目管理</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.13-%E4%B8%93%E4%B8%9A%E8%8B%B1%E8%AF%AD/" class="">3.13 专业英语</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.14-%E5%85%B6%E4%BB%96/" class="">3.14 其他</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.15-%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90%E4%B8%93%E6%A0%8F/" class="">3.15 案例分析专栏</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/" class="">3.16 论文写作专栏</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/1-nosql%E6%8A%80%E6%9C%AF%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" class="">NoSQL数据库技术及其应用</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/2-%E8%AE%BA%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" class="">论微服务架构及其应用</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/3-%E8%AE%BA%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%8F%AF%E9%9D%A0%E6%80%A7%E8%AE%BE%E8%AE%A1/" class="">论软件的可靠性设计</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/4-%E8%AE%BA%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC/" class="">论软件系统架构风格</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/5-%E8%AE%BA%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AF%84%E4%BC%B0/" class="">论软件系统架构评估及其应用</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/architect-exam/3.16-%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%93%E6%A0%8F/6-%E8%AE%BA%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" class="">论软件开发模型及其应用</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c5af2a1cf2778ff160886bf03e434863" class="toggle"  />
    <label for="section-c5af2a1cf2778ff160886bf03e434863" class="flex justify-between">
      <a href="/docs/example/algorthem/" class="">4. 数据结构与算法</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/algorthem/4.1-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" class="">4.1 排序算法</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-931d8f340adf73346e40d4b227426621" class="toggle"  />
    <label for="section-931d8f340adf73346e40d4b227426621" class="flex justify-between">
      <a href="/docs/example/leetcode/" class="">5. leetcode</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.1-hot100/" class="">5.1 hot100</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.2-%E5%8F%8C%E6%8C%87%E9%92%88%E7%A7%92%E6%9D%80%E6%95%B0%E7%BB%84%E9%97%AE%E9%A2%98/" class="">5.2 双指针秒杀数组问题</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.3-%E5%89%8D%E7%BC%80%E5%92%8C%E5%8F%8A%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/" class="">5.3 前缀和及差分数组</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.4-%E5%8F%8C%E6%8C%87%E9%92%88%E7%A7%92%E6%9D%80%E9%93%BE%E8%A1%A8%E9%97%AE%E9%A2%98/" class="">5.4 双指针秒杀链表问题</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.5-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" class="">5.5 滑动窗口</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.6-%E4%BA%8C%E5%8F%89%E6%A0%91/" class="">5.6 二叉树</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/leetcode/5.7-%E9%9D%A2%E7%BB%8F/" class="">5.7 面经</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>3.3 数据库系统</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#目录-">目录 ✌</a></li>
    <li><a href="#1-数据库模式-">1 数据库模式 ✅✅✅</a></li>
    <li><a href="#2-数据库设计-">2 数据库设计 ✅✅✅</a>
      <ul>
        <li><a href="#21-需求分析-">2.1 需求分析 ✅✅</a></li>
        <li><a href="#22-概念结构设计-">2.2 概念结构设计 ✅✅</a></li>
        <li><a href="#23-逻辑结构设计-">2.3 逻辑结构设计 ✅✅✅✅</a></li>
        <li><a href="#24-物理设计-">2.4 物理设计 ✅</a></li>
      </ul>
    </li>
    <li><a href="#3-关系代数-">3 关系代数 ✅✅✅✅</a></li>
    <li><a href="#4-规范化理论-">4 规范化理论 ✅✅✅✅✅</a>
      <ul>
        <li><a href="#41-函数依赖-">4.1 函数依赖 ✅✅✅✅✅</a></li>
        <li><a href="#42-求候选键-">4.2 求候选键 ✅✅✅✅✅</a></li>
        <li><a href="#43-armstrong公理-">4.3 Armstrong公理 ✅✅</a></li>
        <li><a href="#44-范式判断-">4.4 范式判断 ✅✅✅✅✅</a></li>
        <li><a href="#45-模式分解-">4.5 模式分解 ✅✅✅✅✅</a></li>
        <li><a href="#46-闭包-">4.6 闭包 ✅✅✅</a></li>
        <li><a href="#47-反规范化理论-">4.7 反规范化理论 ✅✅✅✅</a></li>
      </ul>
    </li>
    <li><a href="#5-并发控制-">5 并发控制 ✅✅</a>
      <ul>
        <li><a href="#51-事务-">5.1 事务 ✅✅</a></li>
        <li><a href="#52-并发可能产生的问题-">5.2 并发可能产生的问题 ✅</a></li>
        <li><a href="#53-封锁协议-">5.3 封锁协议 ✅</a></li>
      </ul>
    </li>
    <li><a href="#6-数据库的安全性-">6 数据库的安全性 ✅✅</a></li>
    <li><a href="#7-数据库的备份与恢复技术-">7 数据库的备份与恢复技术 ✅</a>
      <ul>
        <li><a href="#71-数据备份-">7.1 数据备份 ✅</a></li>
        <li><a href="#72-数据库故障与恢复-">7.2 数据库故障与恢复 ✅</a></li>
      </ul>
    </li>
    <li><a href="#8-数据库性能优化-">8 数据库性能优化 ✅✅</a></li>
    <li><a href="#9-数据库索引-">9 数据库索引 ✅✅</a></li>
    <li><a href="#10-数据库视图-">10 数据库视图 ✅✅✅</a></li>
    <li><a href="#11-数据库的分区分表分库-">11 数据库的分区分表分库 ✅✅</a>
      <ul>
        <li><a href="#111-常见的分区方式-">11.1 常见的分区方式 ✅✅</a></li>
        <li><a href="#112-分表分库-">11.2 分表分库 ✅✅</a></li>
      </ul>
    </li>
    <li><a href="#12-分布式数据库-">12 分布式数据库 ✅✅✅</a>
      <ul>
        <li><a href="#121-分布式数据库的层次-">12.1 分布式数据库的层次 ✅✅✅</a></li>
        <li><a href="#122-分片模式-">12.2 分片模式 ✅✅✅</a></li>
        <li><a href="#123-分布模式-">12.3 分布模式 ✅✅✅</a></li>
        <li><a href="#124-两阶段提交协议-">12.4 两阶段提交协议 ✅✅</a></li>
        <li><a href="#125-分布式数据库的特点-">12.5 分布式数据库的特点 ✅✅✅</a></li>
        <li><a href="#126-联邦数据库-">12.6 联邦数据库 ✅</a></li>
      </ul>
    </li>
    <li><a href="#13-nosql-">13 NoSQL ✅✅</a>
      <ul>
        <li><a href="#131-nosql分类-">13.1 NoSQL分类 ✅✅</a></li>
      </ul>
    </li>
    <li><a href="#课后习题">课后习题</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="目录-">
  目录 ✌
  <a class="anchor" href="#%e7%9b%ae%e5%bd%95-">#</a>
</h2>
<p>  本章内容在上午的选择题和下午的案例分析题中都会涉及到，在下午的案例分析题里面考到过视图、规范化理论、反规范化理论等；相对比较重要，正常约占4~9分，占比5.3%~12%</p>
<hr>
<h2 id="1-数据库模式-">
  1 数据库模式 ✅✅✅
  <a class="anchor" href="#1-%e6%95%b0%e6%8d%ae%e5%ba%93%e6%a8%a1%e5%bc%8f-">#</a>
</h2>
<hr>
<p>  数据库模式一句话概括为三级模式两级映像；其中三级模式分别是：外模式(用户模式、子模式)、模式(概念模式)、内模式；两级映像分别是：外模式与模式之间的映像、模式与内模式之间的映像。如下图所示。</p>
<p><a href="https://imgse.com/i/pCEowtI"><img src="https://s1.ax1x.com/2023/06/10/pCEowtI.md.png" alt="pCEowtI.md.png" /></a></p>
<ul>
<li>外模式</li>
</ul>
<p>  外模式是面向用户或者应用程序的数据库局部视图。它是从模式导出的一个子集(在golang中同切片和数组的关系类似)，外模式包含模式中允许特定用户使用的那部分数据。外模式反映了数据库的用户观。</p>
<ul>
<li>模式</li>
</ul>
<p>  又称概念模式或逻辑模式，它是对数据库中全部数据的逻辑结构和特征的总体描述，是所有用户的公共数据视图(全局视图)。模式反映了数据库系统(DBS)的整体观。</p>
<ul>
<li>内模式：</li>
</ul>
<p>  又称存储模式，对应于物理级。它是数据库中全体数据的内部表示或底层描述，是数据库最低一级描述，它描述了数据在存储介质上的存储方式和物理结构，对应着实际存储在外存储介质上的数据库。它是数据库的存储观。创建索引改变的是数据库的内模式。</p>
<ul>
<li>外模式-模式（保证了数据的逻辑独立性）</li>
</ul>
<p>  用户应用程序根据外模式进行数据操作，通过外模式—模式映射，定义和建立某个外模式与模式间的对应关系(加一层)，将外模式与模式联系起来，当模式发生改变时，只要改变其映射，就可以使外模式保持不变，对应的应用程序也可保持不变。</p>
<ul>
<li>模式-内模式（保证了数据的物理独立性）</li>
</ul>
<p>  通过模式—内模式映射，定义建立数据的逻辑结构（模式）与存储结构（内模式）间的对应关系(加一层)，当数据存储结构发生变化时，只需改变模式—内模式映射，就能保持模式不变，因此应用程序也可以保持不变。</p>
<ul>
<li>关系的3种类型</li>
</ul>
<p><strong>基本关系</strong> (通常又称为基本表或基表) : 实际存在的表，实际存储数据的逻辑表示。</p>
<p><strong>查询表</strong>:查询结果对应的表。</p>
<p><strong>视图表</strong>:由基表或其他视图表导出的表，本身不独立存储，数据库只存放它的定义，常称为虚表。</p>
<h2 id="2-数据库设计-">
  2 数据库设计 ✅✅✅
  <a class="anchor" href="#2-%e6%95%b0%e6%8d%ae%e5%ba%93%e8%ae%be%e8%ae%a1-">#</a>
</h2>
<hr>
<p>  数据库设计依次包含阶段，分别是：需求分析、概念结构设计、逻辑结构设计、物理设计阶段。</p>
<p>  需求分析产物有：数据流图、数据字典、需求说明书，概念结构设计的产物有：ER图，逻辑结构设计的产物有：关系模式，还需要考虑ER图转关系模式的转换规则和规范化相关的一些东西，物理设计考虑的是具体的物理存储、物理分布等。</p>
<p><a href="https://imgse.com/i/pC6vv01"><img src="https://s1.ax1x.com/2023/07/07/pC6vv01.md.png" alt="pC6vv01.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCVdmf1"><img src="https://s1.ax1x.com/2023/06/11/pCVdmf1.md.png" alt="pCVdmf1.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      C
    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCVdKl6"><img src="https://s1.ax1x.com/2023/06/11/pCVdKl6.md.png" alt="pCVdKl6.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      C
    </div>
  </label>
</div>
</p>
</blockquote>
<h3 id="21-需求分析-">
  2.1 需求分析 ✅✅
  <a class="anchor" href="#21-%e9%9c%80%e6%b1%82%e5%88%86%e6%9e%90-">#</a>
</h3>
<p>  根据当前和未来应用的数据要求、数据处理要求来进行需求分析，此阶段的产物有：数据流图、数据字典、需求说明书。注意：数据流图本身是很重要的，在<a href="http://127.0.0.1:1313/docs/example/architect-exam/3.9-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/3-%E9%9C%80%E6%B1%82%E5%B7%A5%E7%A8%8B/#431-%E7%BB%93%E6%9E%84%E5%8C%96%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90sa">结构化需求分析SA</a>中会详细讲到。</p>
<h3 id="22-概念结构设计-">
  2.2 概念结构设计 ✅✅
  <a class="anchor" href="#22-%e6%a6%82%e5%bf%b5%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1-">#</a>
</h3>
<p>  概念结构设计也就是通过需求分析的结果来获得ER图的过程。下图是示例的ER图：</p>
<p><a href="https://imgse.com/i/pCVdtfI"><img src="https://s1.ax1x.com/2023/06/11/pCVdtfI.md.png" alt="pCVdtfI.md.png" /></a></p>
<p>  ER图就是实体联系图，两个不同的实体集之间有三种联系，分别是1:1,1:m,m:n。上图是m:n的多对多关系(联系的类型需要会判断)。</p>
<ul>
<li>E-R图具体的建立过程</li>
</ul>
<p><a href="https://imgse.com/i/pCVdR10"><img src="https://s1.ax1x.com/2023/06/11/pCVdR10.md.png" alt="pCVdR10.md.png" /></a></p>
<p><strong>合并的方法</strong>：一次集成：多个局部E-R图一次集成；逐步集成：用累加的方式一次集成两个局部E-R。</p>
<p><strong>合并时冲突的分类</strong>：属性冲突：属性域冲突或属性取值冲突；命名冲突：同名异义和异名同义；结构冲突：同一对象在不同应用中具有不同的抽象，以及同一实体在不同局部E-R图中所包含的属性个数不完全相同。</p>
<h3 id="23-逻辑结构设计-">
  2.3 逻辑结构设计 ✅✅✅✅
  <a class="anchor" href="#23-%e9%80%bb%e8%be%91%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1-">#</a>
</h3>
<p>  逻辑结构设计的产物是关系模式，关系模式(关系模型) = ER图 + 转换规则和规范化理论。</p>
<p>  数据模型三要素：数据结构、数据操作、数据的约束条件。数据模型包括层次模型、网状模型、面向对象模型、关系模型。</p>
<ul>
<li>关系模型的相关概念</li>
</ul>
<p>  以下的几种表达形式都表示了同一个关系模型。
<a href="https://imgse.com/i/pCVdHhR"><img src="https://s1.ax1x.com/2023/06/11/pCVdHhR.md.png" alt="pCVdHhR.md.png" /></a></p>
<p>  以学生、选课关系为例，说明关系模型中的相关概念。其中：学生(学号，姓名，年龄，班级编号)和选课(学号，课程号，课程名)。</p>
<p>  1、学生关系是一个4目关系；选课关系是一个3目关系。</p>
<p>  2、学生关系的候选码只有一个，是学号；选课关系的候选码也只有一个，是(学号，课程号)。</p>
<p>  3、学生关系的主键是学号；选课关系的主键是(学号，课程号)。</p>
<p>  4、学生关系的主属性有学号，非主属性有姓名，年龄，班级编号；选课关系的主属性有学号和课程号，非主属性有课程名。</p>
<p>  5、学生关系没有外键；选课关系的外键是学号，学号是学生关系的主键。</p>
<p>  6、学生关系没有全码，选课关系也没有全码。全码(全部属性都是候选码，即选课关系去掉课程名之后，剩下的就是全码)</p>
<p>  官方描述如图：
<a href="https://imgse.com/i/pCVdL1x"><img src="https://s1.ax1x.com/2023/06/11/pCVdL1x.md.png" alt="pCVdL1x.md.png" /></a></p>
<ul>
<li>
<p>完整性约束</p>
<ul>
<li>
<p>实体完整性：规定基本关系的主属性不能取空值。跟主键相关</p>
</li>
<li>
<p>参照完整性：关系与关系之间的引用。跟外键相关</p>
</li>
<li>
<p>用户自定义完整性：应用环境决定。如年龄取值范围等。</p>
</li>
<li>
<p>触发器：复杂的完整性约束，可做逻辑判断等功能。</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCVwVu8"><img src="https://s1.ax1x.com/2023/06/11/pCVwVu8.md.png" alt="pCVwVu8.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      B
    </div>
  </label>
</div>
</p>
</blockquote>
<ul>
<li>关系模式的具体的建立过程</li>
</ul>
<p><a href="https://imgse.com/i/pCVwK4s"><img src="https://s1.ax1x.com/2023/06/11/pCVwK4s.md.png" alt="pCVwK4s.md.png" /></a></p>
<ul>
<li>建立过程：1. ER图向关系模式转换：需要将ER图中的实体和联系转换为关系模式。</li>
</ul>
<p><a href="https://imgse.com/i/pCV0mM6"><img src="https://s1.ax1x.com/2023/06/11/pCV0mM6.md.png" alt="pCV0mM6.md.png" /></a>
<a href="https://imgse.com/i/pCV08JA"><img src="https://s1.ax1x.com/2023/06/11/pCV08JA.md.png" alt="pCV08JA.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCV0tQP"><img src="https://s1.ax1x.com/2023/06/11/pCV0tQP.md.png" alt="pCV0tQP.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      C
    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCV0wdg"><img src="https://s1.ax1x.com/2023/06/11/pCV0wdg.md.png" alt="pCV0wdg.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      D C A
    </div>
  </label>
</div>
</p>
</blockquote>
<p>  2、关系模式的规范化<a href="http://127.0.0.1:1313/docs/example/architect-exam/3.3-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/#4-%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA-">传送门</a>。</p>
<p>  3、确定完整性约束(保证数据的正确性；实体完整性、参照完整性、用户自定义完整性)。</p>
<h3 id="24-物理设计-">
  2.4 物理设计 ✅
  <a class="anchor" href="#24-%e7%89%a9%e7%90%86%e8%ae%be%e8%ae%a1-">#</a>
</h3>
<p>  物理设计考虑具体的物理存储、物理分布情况。</p>
<h2 id="3-关系代数-">
  3 关系代数 ✅✅✅✅
  <a class="anchor" href="#3-%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0-">#</a>
</h2>
<hr>
<p>  关系代数是针对关系模式进行的代数运算。</p>
<p>  并交差是同构的二元运算。</p>
<p><a href="https://imgse.com/i/pCVBkm8"><img src="https://s1.ax1x.com/2023/06/11/pCVBkm8.md.png" alt="pCVBkm8.md.png" /></a></p>
<p>  笛卡尔积、投影选择可是同构，也可异构；笛卡尔积是二元运算，投影、选择都是一元运算；它们都可用1，2，3&hellip;来代替列名，有同名的情况需要加上“表名.”。经常会出现这样的sql考察形式：select 投影 from 笛卡尔积 where 选择。</p>
<p><a href="https://imgse.com/i/pCVBmfs"><img src="https://s1.ax1x.com/2023/06/11/pCVBmfs.md.png" alt="pCVBmfs.md.png" /></a></p>
<p>  连接有多种，考试基本上只考自然连接。有同名的情况需要加上“表名.”。笛卡尔积的结果非常庞大，将笛卡尔积进行适当的选择、投影(注意顺序，下面两个式子中，第一个是对的)就可以得到自然连接的结果，所以也会考察它们相等的情况。如果考虑性能情况，一般需要先投影选择之后再做笛卡尔积或自然连接的性能最高。</p>
<p><a href="https://imgse.com/i/pCVB29A"><img src="https://s1.ax1x.com/2023/06/11/pCVB29A.md.png" alt="pCVB29A.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCVDQCd"><img src="https://s1.ax1x.com/2023/06/11/pCVDQCd.md.png" alt="pCVDQCd.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      D C
    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCVDXPH"><img src="https://s1.ax1x.com/2023/06/11/pCVDXPH.md.png" alt="pCVDXPH.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      B C
    </div>
  </label>
</div>
</p>
</blockquote>
<h2 id="4-规范化理论-">
  4 规范化理论 ✅✅✅✅✅
  <a class="anchor" href="#4-%e8%a7%84%e8%8c%83%e5%8c%96%e7%90%86%e8%ae%ba-">#</a>
</h2>
<hr>
<ul>
<li>规范的必要性</li>
</ul>
<p>  非规范化的关系模式可能存在的问题包括：数据冗余、更新异常(修改操作一致性问题)、插入异常、删除异常。</p>
<p><a href="https://imgse.com/i/pCVrGW9"><img src="https://s1.ax1x.com/2023/06/11/pCVrGW9.md.png" alt="pCVrGW9.md.png" /></a></p>
<ul>
<li>经常考察的点：</li>
</ul>
<p>  1、给你一个关系模式，让你看看有啥问题(异常)，做法：先看该关系模式达到第几范式，再说出对应范式的问题就行；</p>
<p>  2、让你修改关系模式来消除这些问题。一般来说没达到第三范式都有问题。</p>
<h3 id="41-函数依赖-">
  4.1 函数依赖 ✅✅✅✅✅
  <a class="anchor" href="#41-%e5%87%bd%e6%95%b0%e4%be%9d%e8%b5%96-">#</a>
</h3>
<p>  函数依赖是一个语义概念，是一个自然而然的概念。如果x能唯一决定y，则称x函数决定y，或者是y函数依赖于x，记作x-&gt;y。</p>
<ul>
<li>
<p>特殊的函数依赖关系</p>
<ul>
<li>部分函数依赖：C依赖于A，所以C部分依赖于AB
<a href="https://imgse.com/i/pCVcU9e"><img src="https://s1.ax1x.com/2023/06/11/pCVcU9e.md.png" alt="pCVcU9e.md.png" /></a></li>
<li>传递函数依赖
<a href="https://imgse.com/i/pCVca1H"><img src="https://s1.ax1x.com/2023/06/11/pCVca1H.md.png" alt="pCVca1H.md.png" /></a></li>
</ul>
</li>
</ul>
<h3 id="42-求候选键-">
  4.2 求候选键 ✅✅✅✅✅
  <a class="anchor" href="#42-%e6%b1%82%e5%80%99%e9%80%89%e9%94%ae-">#</a>
</h3>
<p>  候选键可以有多个，每个候选键可以由多个属性构成。知道候选键了以后，其余的情况都能一目了然，现在介绍如何求取候选键。</p>
<p>  1、在关系模式中，一般用R(U,F)表示，U是属性，表示节点；F是函数依赖，表示边；所以将关系模式转换为一个有向图（可选）。</p>
<p>  2、(入度出度都为0的属性一定是在候选码中)，找入度为0的属性(<strong>只在箭头左边出现过的属性</strong>就是入度为0的属性；箭头指入为入度，箭头指出为出度)，并以该属性集合为起点，尝试遍历有向图，若能正常遍历图中所有结点，则该属性集即为关系模式的候选键。</p>
<p>  3、若入度为0的属性集不能遍历图中所有结点，则需要尝试性的将一些中间结点(既有入度，也有出度的结点)并入入度为0的属性集中，直至该集合能遍历所有结点，集合为候选键。</p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCV67SH"><img src="https://s1.ax1x.com/2023/06/11/pCV67SH.md.png" alt="pCV67SH.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      A ABCD B
    </div>
  </label>
</div>
</p>
</blockquote>
<h3 id="43-armstrong公理-">
  4.3 Armstrong公理 ✅✅
  <a class="anchor" href="#43-armstrong%e5%85%ac%e7%90%86-">#</a>
</h3>
<p>  函数依赖在题目中一般都给的不全，但是我们可以通过题目给的函数依赖推导出所有的属性，期间推导的依据就是Armstrong公理。</p>
<p>  增广率有两种形式：1、若x-&gt;y,则x-&gt;xy    2、若x-&gt;y,则xz-&gt;yz</p>
<p><a href="https://imgse.com/i/pCVczHx"><img src="https://s1.ax1x.com/2023/06/11/pCVczHx.md.png" alt="pCVczHx.md.png" /></a>
<a href="https://imgse.com/i/pCVgZDI"><img src="https://s1.ax1x.com/2023/06/11/pCVgZDI.md.png" alt="pCVgZDI.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCVgQPS"><img src="https://s1.ax1x.com/2023/06/11/pCVgQPS.md.png" alt="pCVgQPS.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>C</p>
<p>解析：A选项是传递律，B选项是自反律，D选项是分解规则</p>

    </div>
  </label>
</div>
</p>
</blockquote>
<h3 id="44-范式判断-">
  4.4 范式判断 ✅✅✅✅✅
  <a class="anchor" href="#44-%e8%8c%83%e5%bc%8f%e5%88%a4%e6%96%ad-">#</a>
</h3>
<p>  关系数据库在设计过程中必然会考虑到规范化程度，范式就是判断规范化程度的度量。欲达到更高的规范化程度，则需要将表格拆分得更细。拆分得越细，查询性能会越低，所以并不是越细越好，所以也会出现非规范化理论。一般在开发过程中达到第三范式就刚好。</p>
<p><a href="https://imgse.com/i/pCVqdgI"><img src="https://s1.ax1x.com/2023/06/11/pCVqdgI.md.png" alt="pCVqdgI.md.png" /></a></p>
<ul>
<li>第一范式</li>
</ul>
<p>  最普通的二维表就达到了第一范式，一般题目给到的表，都是达到了第一范式。所以下表不满足第一范式，不是普通二维表，因为高级职称人数可继续拆分。</p>
<p><a href="https://imgse.com/i/pCVq2Cj"><img src="https://s1.ax1x.com/2023/06/11/pCVq2Cj.md.png" alt="pCVq2Cj.md.png" /></a></p>
<ul>
<li>第二范式</li>
</ul>
<p>  该例子是一个普通的二维表，所以该关系模式至少达到了第一范式，但该关系模式存在非主属性对候选码的部分函数依赖(学分部分依赖候选码学号和课程号)，所以该关系模型未能达到第二范式，目前只是第一范式。存在部分函数依赖的前提是候选码至少由两个及以上的属性构成。若消除了非主属性对候选码的部分函数依赖，则该关系模式可以达到第二范式；如何消除？将该关系模式(学号，课程号，成绩，学分)拆成两个关系模式(课程号，学分)和(学号，课程号，成绩)。</p>
<p><a href="https://imgse.com/i/pCVq4K0"><img src="https://s1.ax1x.com/2023/06/11/pCVq4K0.md.png" alt="pCVq4K0.md.png" /></a></p>
<ul>
<li>第三范式</li>
</ul>
<p>  该例子是普通二维表且候选码只有一个属性构成，所以该关系模式至少达到了第二范式。主属性学号-&gt;系号，系号-&gt;系名和系位置(其中系号一定是非主属性才行)；所以该关系模式存在非主属性对主属性的传递依赖(系名和系位置传递依赖于学号)，所以该关系模式未达到第三范式。若消除了非主属性对主属性的传递依赖，则该模式可以达到第三范式，如何消除？将关系模式(学号，姓名，系号，系名，系位置)拆分成两个关系模式(学号，姓名，系号)和(系号，系名，系位置)。</p>
<p><a href="https://imgse.com/i/pCVq5rV"><img src="https://s1.ax1x.com/2023/06/11/pCVq5rV.md.png" alt="pCVq5rV.md.png" /></a></p>
<ul>
<li>BCNF范式</li>
</ul>
<p>  该例子是是普通二维表且没有非主属性(F{T-&gt;J,SJ-&gt;T}，所以候选码为：SJ，ST)，所以该关系模型至少达到了第三范式。当且仅当F中的每个依赖的左边都必定包含R的某个候选码时，就达到BCNF范式。显然T不包含SJ或ST，所以未达到BCNF范式。</p>
<p><a href="https://imgse.com/i/pCVON6I"><img src="https://s1.ax1x.com/2023/06/11/pCVON6I.md.png" alt="pCVON6I.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCZwCJs"><img src="https://s1.ax1x.com/2023/06/12/pCZwCJs.md.png" alt="pCZwCJs.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      C A
    </div>
  </label>
</div>
</p>
</blockquote>
<h3 id="45-模式分解-">
  4.5 模式分解 ✅✅✅✅✅
  <a class="anchor" href="#45-%e6%a8%a1%e5%bc%8f%e5%88%86%e8%a7%a3-">#</a>
</h3>
<p>  将关系模式拆分成更小的关系模式以达到更高的规范化程度的过程就是模式分解的过程。模式分解的过程中，需要考虑两个问题：1、是否保持函数依赖；2、是否无损分解。比较好的模式分解应该是即保持了函数依赖，又是无损分解。</p>
<ul>
<li>保持函数依赖分解</li>
</ul>
<p>  关系模式分解前必然存在一个函数依赖集合F，关系模式分解后假设得到了两个关系模式，那么这两个关系模式也必定有自己的函数依赖集合F1，F2；若F1并F2等价于F，则称这种模式分解保持了函数依赖。在F中可能存在冗余函数依赖，它其实是可以通过公理推导出来的，所以在判断是否保持函数依赖时不用考虑冗余函数依赖(当它没有)。</p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCZ090O"><img src="https://s1.ax1x.com/2023/06/12/pCZ090O.md.png" alt="pCZ090O.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>是 是</p>
<p>第一问解析：R1的函数依赖F1={A-&gt;B}，R2的函数依赖F2={B-&gt;C}，函数依赖F1并F2是等价于分解前的函数依赖F的，所以该分解保持了函数依赖。第二问解析：同第一问一样，只不过F中存在了冗余函数依赖A-&gt;C(通过传递律可知)，在判断的时候不需要考虑，所以该分解保持了函数依赖。</p>

    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCZ0Jcq"><img src="https://s1.ax1x.com/2023/06/12/pCZ0Jcq.md.png" alt="pCZ0Jcq.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>不是 是</p>
<p>第一问解析：R1的函数依赖F1={A-&gt;B}，R2的函数依赖F2={A-&gt;C}，函数依赖F1并F2是不等价于分解前的函数依赖F的(缺少B-&gt;C)，所以该分解没有保持函数依赖。第二问解析：R1的函数依赖F1={A-&gt;B}，R2的函数依赖F2={D-&gt;E}，函数依赖F1并F2是等价于分解前的函数依赖F的，所以该分解保持了函数依赖。</p>

    </div>
  </label>
</div>
</p>
</blockquote>
<ul>
<li>
<p>有损无损分解</p>
<ul>
<li>
<p>有损：拆分后不能还原出原来的函数依赖。</p>
</li>
<li>
<p>无损：拆分后可以还原出原来的函数依赖。指将一个关系模式分解成若干关系模式后，通过自然连接和投影运算仍能还原成原来的关系模式。</p>
</li>
</ul>
</li>
</ul>
<p>  判断是否无损分解一般可用表格法(通用方法)和公式法判断(本文不做介绍)。</p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCZBlqK"><img src="https://s1.ax1x.com/2023/06/12/pCZBlqK.md.png" alt="pCZBlqK.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>无损分解</p>
<p>解析：分解前为1NF，分解后满足BCNF。模式分解后保持了函数依赖。现在判断是否无损分解。</p>
<p>用表格法比较清晰：</p>
<p>1、构造初始表，列名是源属性集，行是分解后的关系模式，有值的打钩；</p>
<p>2、找出表中的同名属性列，看它在原本函数依赖F中能决定出什么，如果有的话说明该函数依赖在分解后被保留下来了，就可以在各表的同名属性列决定的属性处打钩，如果没有就跳过；</p>
<p>3、新决定出来的列可重新按上述规则重新判断下一个，以此类推，知道出现任意一行全部为钩则无损分解，若表格的所有属性都遍历完了也没有一行全为钩的，就是有损分解。</p>
<p>具体为：初始表如下；同名属性列学号在原有函数依赖中决定了姓名，所以在学号为钩的行给姓名打钩；同名属性列姓名在源有函数依赖中没有决定任何属性，所以跳过；同名属性列课程号在原有函数依赖中决定了课程名，所以在课程号为钩的行给课程名打钩；此时满足任意一行(成绩表)全为钩；所以它是无损分解。</p>
<p><a href="https://imgse.com/i/pCZ5ECt"><img src="https://s1.ax1x.com/2023/06/12/pCZ5ECt.md.png" alt="pCZ5ECt.md.png" /></a></p>

    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCZ5lUs"><img src="https://s1.ax1x.com/2023/06/12/pCZ5lUs.md.png" alt="pCZ5lUs.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>D A</p>
<p>解析参考上面例题的解析，思路完全一模一样。</p>

    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCZ5fVH"><img src="https://s1.ax1x.com/2023/06/12/pCZ5fVH.md.png" alt="pCZ5fVH.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>A D</p>
<p>解析参考上面例题的解析，思路完全一模一样。</p>

    </div>
  </label>
</div>
</p>
</blockquote>
<h3 id="46-闭包-">
  4.6 闭包 ✅✅✅
  <a class="anchor" href="#46-%e9%97%ad%e5%8c%85-">#</a>
</h3>
<p>  x(1) = x(0) U CD
<a href="https://imgse.com/i/pCmDSFU"><img src="https://s1.ax1x.com/2023/06/13/pCmDSFU.md.png" alt="pCmDSFU.md.png" /></a>
<a href="https://imgse.com/i/pCmDPSJ"><img src="https://s1.ax1x.com/2023/06/13/pCmDPSJ.md.png" alt="pCmDPSJ.md.png" /></a></p>
<h3 id="47-反规范化理论-">
  4.7 反规范化理论 ✅✅✅✅
  <a class="anchor" href="#47-%e5%8f%8d%e8%a7%84%e8%8c%83%e5%8c%96%e7%90%86%e8%ae%ba-">#</a>
</h3>
<p><a href="https://imgse.com/i/pC6xV0I"><img src="https://s1.ax1x.com/2023/07/07/pC6xV0I.md.png" alt="pC6xV0I.md.png" /></a>
<a href="https://imgse.com/i/pC6xJ7q"><img src="https://s1.ax1x.com/2023/07/07/pC6xJ7q.md.png" alt="pC6xJ7q.md.png" /></a></p>
<blockquote>
<p>案例分析例题
<a href="https://imgse.com/i/pC6x4jH"><img src="https://s1.ax1x.com/2023/07/07/pC6x4jH.md.png" alt="pC6x4jH.md.png" /></a>
<a href="https://imgse.com/i/pChbJDH"><img src="https://s1.ax1x.com/2023/07/13/pChbJDH.md.png" alt="pChbJDH.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <a href="https://imgse.com/i/pC6xOC8"><img src="https://s1.ax1x.com/2023/07/07/pC6xOC8.md.png" alt="pC6xOC8.md.png" /></a>
    </div>
  </label>
</div>
</p>
</blockquote>
<h2 id="5-并发控制-">
  5 并发控制 ✅✅
  <a class="anchor" href="#5-%e5%b9%b6%e5%8f%91%e6%8e%a7%e5%88%b6-">#</a>
</h2>
<hr>
<h3 id="51-事务-">
  5.1 事务 ✅✅
  <a class="anchor" href="#51-%e4%ba%8b%e5%8a%a1-">#</a>
</h3>
<p>  并发控制指的是事务的并发控制，事务保证了数据的完整性。事务有4个特点：简称ACID</p>
<ul>
<li>原子性(Atomicity)</li>
</ul>
<p>  是指事务包含的所有操作要么全部成功，要么全部失败回滚。这些操作是一个整体，不能部分地完成，跟操作系统的原语一样(PV操作)。影子拷贝是保证事务原子性的一种方法；影子拷贝：假设在某一个时刻只有一个活动的事务，为了保证事务的原子性，对于要执行写操作的数据项，数据库系统在磁盘上维护数据库的一个副本，所有的写操作都在数据库副本上执行，而保持原始数据库不变，如果在任一时刻操作不得不中止，系统仅需要删除副本，原数据库没有受到任何影响。这种设计策略称为<strong>影子拷贝</strong>。</p>
<ul>
<li>一致性(Consistency)</li>
</ul>
<p>  是指事务必须使数据库从一个一致性状态变换到另一个一致性状态，也就是说一个事务执行之前和执行之后都必须处于一致性状态。比如说转账。数据库系统通常采用<strong>完整性约束检查</strong>机制保证单个事务的一致性。</p>
<ul>
<li>隔离性(Isolation)</li>
</ul>
<p>  是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的。也就是执行的效果应该和串行一样互不影响。事务的隔离性保证操作并发执行后的系统状态与这些操作以某种次序<strong>串行化执行后的状态是等价的</strong>。<strong>两阶段锁协议是实现隔离性的常见方案，该协议能够保证事务的可串行化执行，但它可能发生死锁</strong>。</p>
<ul>
<li>持久性(Durability)</li>
</ul>
<p>  是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，无论发送何种故障，都不应对其有任何影响。假设在日志中记录所有对数据库的修改操作，将一个事务的所有写操作延迟到事务提交后才执行，则在日志中<strong>无需记录数据项被事务修改前的原始值</strong>，当系统发生故障时，如果某个事务已经开始，但没有提交，则该事务应该<strong>什么也不用做</strong>。</p>
<h3 id="52-并发可能产生的问题-">
  5.2 并发可能产生的问题 ✅
  <a class="anchor" href="#52-%e5%b9%b6%e5%8f%91%e5%8f%af%e8%83%bd%e4%ba%a7%e7%94%9f%e7%9a%84%e9%97%ae%e9%a2%98-">#</a>
</h3>
<p>  并发可能会产生以下问题：1、丢失更新；2、读脏数据；3、不可重复读问题。</p>
<p><a href="https://imgse.com/i/pCeo5Q0"><img src="https://s1.ax1x.com/2023/06/13/pCeo5Q0.md.png" alt="pCeo5Q0.md.png" /></a></p>
<h3 id="53-封锁协议-">
  5.3 封锁协议 ✅
  <a class="anchor" href="#53-%e5%b0%81%e9%94%81%e5%8d%8f%e8%ae%ae-">#</a>
</h3>
<p>  封锁协议是用来解决并发可能会产生的那三个问题。</p>
<p><a href="https://imgse.com/i/pCeo7eU"><img src="https://s1.ax1x.com/2023/06/13/pCeo7eU.md.png" alt="pCeo7eU.md.png" /></a></p>
<ul>
<li>S封锁是读锁/共享锁：一个事务对操作对象上了读锁，另一个事务也可对该操作对象上读锁，这两个事务共享该操作对象。</li>
<li>X锁是写锁/排它锁：一个事务对操作对象上了写锁，那么其他任何事务都没法对该操作对象上任何锁，X锁具有排它性：</li>
<li>一级封锁协议解决丢失更新</li>
<li>二级封锁协议解决丢失更新、读脏数据</li>
<li>三级封锁协议解决丢失更新、读脏数据、不可重复读。</li>
<li>两段锁协议，分为加锁和解锁两个阶段，任何读之间都加S锁，任何写之前都加X锁，加锁就像操作系统的P操作一样，解锁就是V操作，可能会导致死锁。</li>
</ul>
<h2 id="6-数据库的安全性-">
  6 数据库的安全性 ✅✅
  <a class="anchor" href="#6-%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e5%ae%89%e5%85%a8%e6%80%a7-">#</a>
</h2>
<hr>
<p><a href="https://imgse.com/i/pCeTjAg"><img src="https://s1.ax1x.com/2023/06/13/pCeTjAg.md.png" alt="pCeTjAg.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCe7S9s"><img src="https://s1.ax1x.com/2023/06/13/pCe7S9s.md.png" alt="pCe7S9s.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <p>C</p>
<p>索引和视图是无法更新的、存储过程是可以被第三方开发人员调用的，而触发器不行。</p>

    </div>
  </label>
</div>
</p>
</blockquote>
<h2 id="7-数据库的备份与恢复技术-">
  7 数据库的备份与恢复技术 ✅
  <a class="anchor" href="#7-%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e5%a4%87%e4%bb%bd%e4%b8%8e%e6%81%a2%e5%a4%8d%e6%8a%80%e6%9c%af-">#</a>
</h2>
<h3 id="71-数据备份-">
  7.1 数据备份 ✅
  <a class="anchor" href="#71-%e6%95%b0%e6%8d%ae%e5%a4%87%e4%bb%bd-">#</a>
</h3>
<hr>
<p><a href="https://imgse.com/i/pCe7n3R"><img src="https://s1.ax1x.com/2023/06/13/pCe7n3R.md.png" alt="pCe7n3R.md.png" /></a>
<a href="https://imgse.com/i/pCe71HO"><img src="https://s1.ax1x.com/2023/06/13/pCe71HO.md.png" alt="pCe71HO.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCe7wKP"><img src="https://s1.ax1x.com/2023/06/13/pCe7wKP.md.png" alt="pCe7wKP.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      B
    </div>
  </label>
</div>
</p>
</blockquote>
<h3 id="72-数据库故障与恢复-">
  7.2 数据库故障与恢复 ✅
  <a class="anchor" href="#72-%e6%95%b0%e6%8d%ae%e5%ba%93%e6%95%85%e9%9a%9c%e4%b8%8e%e6%81%a2%e5%a4%8d-">#</a>
</h3>
<p>  数据库容灾属于网络安全和应用安全考虑范畴。</p>
<p><a href="https://imgse.com/i/pCeHSaD"><img src="https://s1.ax1x.com/2023/06/13/pCeHSaD.md.png" alt="pCeHSaD.md.png" /></a></p>
<h2 id="8-数据库性能优化-">
  8 数据库性能优化 ✅✅
  <a class="anchor" href="#8-%e6%95%b0%e6%8d%ae%e5%ba%93%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96-">#</a>
</h2>
<hr>
<p><a href="https://imgse.com/i/pCeHVqf"><img src="https://s1.ax1x.com/2023/06/13/pCeHVqf.md.png" alt="pCeHVqf.md.png" /></a></p>
<h2 id="9-数据库索引-">
  9 数据库索引 ✅✅
  <a class="anchor" href="#9-%e6%95%b0%e6%8d%ae%e5%ba%93%e7%b4%a2%e5%bc%95-">#</a>
</h2>
<hr>
<p>  索引表是实际存在的表。假设要查询学号为417的这条记录，顺序查找的思想是一个一个对比，查询6次才能查到，效率非常低；可能会很自然想到二分查找，但二分查找需要排序的前提。建立索引表本身采用的是B树或者B+树；为了方便解释，这里以二分查找建立索引为例，只需要查2次。</p>
<p><a href="https://imgse.com/i/pC6zeKJ"><img src="https://s1.ax1x.com/2023/07/07/pC6zeKJ.md.png" alt="pC6zeKJ.md.png" /></a></p>
<h2 id="10-数据库视图-">
  10 数据库视图 ✅✅✅
  <a class="anchor" href="#10-%e6%95%b0%e6%8d%ae%e5%ba%93%e8%a7%86%e5%9b%be-">#</a>
</h2>
<hr>
<p><strong>数据库视图</strong>：它一个虚拟表 (逻辑上的表)，其内容由查询定义(仅保存SOL查询语句，所以效率可能有点低，可以使用物化视图提高效率)同真实的表一样，视图包含一系列带有名称的列和行数据。但是，视图并没有真正存储这些数据，而是通过查询原始表动态生成所需要的数据，可以理解为视图是一个指针，可以指向单个表、多个表的联合查询结果，底层的表的数据变了，视图的结果自然也会变(跟golang里面的切片和数组挺像的)。</p>
<p><a href="https://imgse.com/i/pC6zvi6"><img src="https://s1.ax1x.com/2023/07/07/pC6zvi6.md.png" alt="pC6zvi6.md.png" /></a></p>
<p><strong>视图的优点</strong>:</p>
<p>  1、视图能简化用户操作</p>
<p>  2、视图使用户能以多种角度看待同一数据</p>
<p>  3、视图对重构数据库提供了一定程度的逻辑独立性</p>
<p>  4、视图可以对机密数据提供安全保护，如不想授权整个表给外部查询，那么就可授权这个表的某个查询视图给外部就行。</p>
<p><strong>物化视图</strong>:它不是传统意义上虚拟视图，是实体化视图，其本身会存储数据。同时当原始表中的数据更新时，物化视图也会自动更新。适合于多查询少更新的场景。</p>
<blockquote>
<p>案例分析例题
<a href="https://imgse.com/i/pCcSYWT"><img src="https://s1.ax1x.com/2023/07/07/pCcSYWT.md.png" alt="pCcSYWT.md.png" /></a>
<a href="https://imgse.com/i/pCcSUlF"><img src="https://s1.ax1x.com/2023/07/07/pCcSUlF.md.png" alt="pCcSUlF.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <a href="https://imgse.com/i/pCcea6I"><img src="https://s1.ax1x.com/2023/07/07/pCcea6I.md.png" alt="pCcea6I.md.png" /></a>
    </div>
  </label>
</div>
</p>
</blockquote>
<h2 id="11-数据库的分区分表分库-">
  11 数据库的分区分表分库 ✅✅
  <a class="anchor" href="#11-%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e5%88%86%e5%8c%ba%e5%88%86%e8%a1%a8%e5%88%86%e5%ba%93-">#</a>
</h2>
<hr>
<p>  分区是数据库自带的，比如说属于列表分区的有：按天分区，按操作系统类型分区，按日志名字分区等等，逻辑上还是一张表。分区一般针对hive，分区可以增加数据查询的速度。</p>
<p><a href="https://imgse.com/i/pCceWXq"><img src="https://s1.ax1x.com/2023/07/07/pCceWXq.md.png" alt="pCceWXq.md.png" /></a>
<a href="https://imgse.com/i/pCce7h4"><img src="https://s1.ax1x.com/2023/07/07/pCce7h4.md.png" alt="pCce7h4.md.png" /></a></p>
<h3 id="111-常见的分区方式-">
  11.1 常见的分区方式 ✅✅
  <a class="anchor" href="#111-%e5%b8%b8%e8%a7%81%e7%9a%84%e5%88%86%e5%8c%ba%e6%96%b9%e5%bc%8f-">#</a>
</h3>
<hr>
<p>  哈希分区相对分的比较均匀。</p>
<p><a href="https://imgse.com/i/pCceOj1"><img src="https://s1.ax1x.com/2023/07/07/pCceOj1.md.png" alt="pCceOj1.md.png" /></a>
<a href="https://imgse.com/i/pCcejnx"><img src="https://s1.ax1x.com/2023/07/07/pCcejnx.md.png" alt="pCcejnx.md.png" /></a>
<a href="https://imgse.com/i/pCcmP9H"><img src="https://s1.ax1x.com/2023/07/07/pCcmP9H.md.png" alt="pCcmP9H.md.png" /></a></p>
<h3 id="112-分表分库-">
  11.2 分表分库 ✅✅
  <a class="anchor" href="#112-%e5%88%86%e8%a1%a8%e5%88%86%e5%ba%93-">#</a>
</h3>
<p>  分表分库通常是针对mysql(这其实已经涉及到分布式数据库了)；当数据库的QPS过高、数据库的连接数不足的时候就需要分库；当单表数据量过大，严重影响读写性能时就需要分表。分表有水平分表和垂直分表；水平分表(是分布式数据库里面的水平切片，也是反规范化理论里面的水平分表)：将数据记录存放在不同的表中；垂直分表(是分布式数据库里面的垂直切片)：将不同的字段放在不同的表中。</p>
<p>  分表分库同分区一样，也可采用、范围、列表和哈希，通常采用哈希算法。</p>
<h2 id="12-分布式数据库-">
  12 分布式数据库 ✅✅✅
  <a class="anchor" href="#12-%e5%88%86%e5%b8%83%e5%bc%8f%e6%95%b0%e6%8d%ae%e5%ba%93-">#</a>
</h2>
<hr>
<p>  分布式数据库是对应于集中式数据库而言的，平时所用到的简单的mysql等都是集中式数据库(在企业中的mysql肯定是做的分布式数据库，不然性能跟不上)，分布式会考虑物理上把数据放在不同的物理节点上，其逻辑上依然是一个整体。</p>
<h3 id="121-分布式数据库的层次-">
  12.1 分布式数据库的层次 ✅✅✅
  <a class="anchor" href="#121-%e5%88%86%e5%b8%83%e5%bc%8f%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e5%b1%82%e6%ac%a1-">#</a>
</h3>
<p>  分布式数据库的层次和集中式数据库的三级模式两级映像大致相似，只不过在原有的外模式、概念模式、内模式上增加了一些具体的特性，如分片模式，分布模式；全局外模式和外模式一样，都直接用于用户程序，局部概念模式和概念模式一样，都是库表，局部内模式同内模式一样。其中，全局概念模式定义分布式数据库中数据的整体逻辑结构，使得数据使用方便，如同没有分布或分片一样。其具体情况如下图：</p>
<p><a href="https://imgse.com/i/pCETwb4"><img src="https://s1.ax1x.com/2023/06/10/pCETwb4.md.png" alt="pCETwb4.md.png" /></a></p>
<h3 id="122-分片模式-">
  12.2 分片模式 ✅✅✅
  <a class="anchor" href="#122-%e5%88%86%e7%89%87%e6%a8%a1%e5%bc%8f-">#</a>
</h3>
<p>  分片模式使得数据具有分片透明性，分片透明性：是指用户不必关心数据是如何分片的，它们对数据的操作在全局关系上进行，即如何分片对用户是透明的。分片模式具体分为水平分片、垂直分片。</p>
<ul>
<li>水平分片：是将表中不同行的数据存储到不同的服务器上(反规范化理论，将北京的用户放在北京的表，将贵州的用户放在贵州的表)。</li>
<li>垂直分片：是将表中不同字段的数据存储到不同的服务器上。</li>
</ul>
<h3 id="123-分布模式-">
  12.3 分布模式 ✅✅✅
  <a class="anchor" href="#123-%e5%88%86%e5%b8%83%e6%a8%a1%e5%bc%8f-">#</a>
</h3>
<p>  分布模式使得数据具有分布透明性；具体分为：复制透明性、位置透明性、逻辑透明性。</p>
<ul>
<li>复制透明：用户不用关心数据库在网络中各个节点的复制情况，被复制的数据的更新都由RDBMS系统自动完成，数据复制是为了提升数据访问效率而采用的一种增加数据冗余的方法(也就是主从)。</li>
<li>位置透明：是指用户不必知道所操作的数据放在何处，即数据分配到哪个或哪些站点存储对用户是透明的。</li>
<li>逻辑透明：是指局部数据模型透明，即用户或应用程序无需知道局部场景使用的是哪种数据模型。</li>
</ul>
<h3 id="124-两阶段提交协议-">
  12.4 两阶段提交协议 ✅✅
  <a class="anchor" href="#124-%e4%b8%a4%e9%98%b6%e6%ae%b5%e6%8f%90%e4%ba%a4%e5%8d%8f%e8%ae%ae-">#</a>
</h3>
<p>  两阶段提交协议常用来解决分布式事务问题，要么所有都参与的进程都提交事务，要么都取消事务。和集中式数据库事务中的原子性一致。要么都做，要么都不做。其阶段如下：</p>
<p>  1、表决阶段：目的是形成一个共同的决定。</p>
<p>  2、执行阶段：目的是执行协调者收到的决定。</p>
<ul>
<li>两条全局提交规则</li>
</ul>
<p>  1、只要有一个参与者撤销事务，协调者就必须做出全局撤销决定。</p>
<p>  2、只有所有参与者都同意提交事务，协调者才能做出全局提交决定。</p>
<h3 id="125-分布式数据库的特点-">
  12.5 分布式数据库的特点 ✅✅✅
  <a class="anchor" href="#125-%e5%88%86%e5%b8%83%e5%bc%8f%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e7%89%b9%e7%82%b9-">#</a>
</h3>
<ul>
<li>数据独立性</li>
</ul>
<p>  具体为：分布独立性(分布透明性)、物理独立性、逻辑独立性。</p>
<ul>
<li>集中与自治共享结合的控制结构</li>
</ul>
<p>  各局部的DBMS可以独立地管理局部数据库，具有自治的功能。同时，系统又设有集中控制机制，协调各局部DBMS的工作，执行全局应用。</p>
<ul>
<li>适当数据冗余</li>
</ul>
<p>  在不同的场地存储同一数据的多个副本可以提高系统的可靠性和可用性，同时也能提高系统性能。提高系统的<strong>可用性</strong>，即当系统中某个节点发生故障时，因为数据有其他副本在非故障场地上，对其他所有场地来说，数据仍然是可用的，从而保证数据的完备性(反规范化理论的应用)。</p>
<ul>
<li>全局的一致性、可串行性和可恢复性，也就是事务</li>
</ul>
<p>  该点和集中式数据库的特点一致。</p>
<h3 id="126-联邦数据库-">
  12.6 联邦数据库 ✅
  <a class="anchor" href="#126-%e8%81%94%e9%82%a6%e6%95%b0%e6%8d%ae%e5%ba%93-">#</a>
</h3>
<p>  联邦数据库和分布式数据库很相似，分布式数据库是同构的，而联邦数据库是异构的。它们都是对外提供的数据的统一接口。</p>
<p><a href="https://imgse.com/i/pCcuefg"><img src="https://s1.ax1x.com/2023/07/07/pCcuefg.md.png" alt="pCcuefg.md.png" /></a></p>
<blockquote>
<p>例题
<a href="https://imgse.com/i/pCEHMkj"><img src="https://s1.ax1x.com/2023/06/10/pCEHMkj.md.png" alt="pCEHMkj.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      D
    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCEHQts"><img src="https://s1.ax1x.com/2023/06/10/pCEHQts.md.png" alt="pCEHQts.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      D
    </div>
  </label>
</div>

<a href="https://imgse.com/i/pCEH3pq"><img src="https://s1.ax1x.com/2023/06/10/pCEH3pq.md.png" alt="pCEH3pq.md.png" /></a>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>学霸肯定对了</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      C
    </div>
  </label>
</div>
</p>
</blockquote>
<h2 id="13-nosql-">
  13 NoSQL ✅✅
  <a class="anchor" href="#13-nosql-">#</a>
</h2>
<hr>
<p>  向上扩展：用更好的服务器替换，向外扩展：用集群(当然现在mysql也有主从、分库分表的集群)。</p>
<p>  关系数据库与NoSql的特点对比如下：</p>
<p><a href="https://imgse.com/i/pCcnnqx"><img src="https://s1.ax1x.com/2023/07/07/pCcnnqx.md.png" alt="pCcnnqx.md.png" /></a></p>
<h3 id="131-nosql分类-">
  13.1 NoSQL分类 ✅✅
  <a class="anchor" href="#131-nosql%e5%88%86%e7%b1%bb-">#</a>
</h3>
<p><a href="https://imgse.com/i/pCcupSH"><img src="https://s1.ax1x.com/2023/07/07/pCcupSH.md.png" alt="pCcupSH.md.png" /></a></p>
<h2 id="课后习题">
  课后习题
  <a class="anchor" href="#%e8%af%be%e5%90%8e%e4%b9%a0%e9%a2%98">#</a>
</h2>
<hr>
<p>todo 数据库系统习题</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#目录-">目录 ✌</a></li>
    <li><a href="#1-数据库模式-">1 数据库模式 ✅✅✅</a></li>
    <li><a href="#2-数据库设计-">2 数据库设计 ✅✅✅</a>
      <ul>
        <li><a href="#21-需求分析-">2.1 需求分析 ✅✅</a></li>
        <li><a href="#22-概念结构设计-">2.2 概念结构设计 ✅✅</a></li>
        <li><a href="#23-逻辑结构设计-">2.3 逻辑结构设计 ✅✅✅✅</a></li>
        <li><a href="#24-物理设计-">2.4 物理设计 ✅</a></li>
      </ul>
    </li>
    <li><a href="#3-关系代数-">3 关系代数 ✅✅✅✅</a></li>
    <li><a href="#4-规范化理论-">4 规范化理论 ✅✅✅✅✅</a>
      <ul>
        <li><a href="#41-函数依赖-">4.1 函数依赖 ✅✅✅✅✅</a></li>
        <li><a href="#42-求候选键-">4.2 求候选键 ✅✅✅✅✅</a></li>
        <li><a href="#43-armstrong公理-">4.3 Armstrong公理 ✅✅</a></li>
        <li><a href="#44-范式判断-">4.4 范式判断 ✅✅✅✅✅</a></li>
        <li><a href="#45-模式分解-">4.5 模式分解 ✅✅✅✅✅</a></li>
        <li><a href="#46-闭包-">4.6 闭包 ✅✅✅</a></li>
        <li><a href="#47-反规范化理论-">4.7 反规范化理论 ✅✅✅✅</a></li>
      </ul>
    </li>
    <li><a href="#5-并发控制-">5 并发控制 ✅✅</a>
      <ul>
        <li><a href="#51-事务-">5.1 事务 ✅✅</a></li>
        <li><a href="#52-并发可能产生的问题-">5.2 并发可能产生的问题 ✅</a></li>
        <li><a href="#53-封锁协议-">5.3 封锁协议 ✅</a></li>
      </ul>
    </li>
    <li><a href="#6-数据库的安全性-">6 数据库的安全性 ✅✅</a></li>
    <li><a href="#7-数据库的备份与恢复技术-">7 数据库的备份与恢复技术 ✅</a>
      <ul>
        <li><a href="#71-数据备份-">7.1 数据备份 ✅</a></li>
        <li><a href="#72-数据库故障与恢复-">7.2 数据库故障与恢复 ✅</a></li>
      </ul>
    </li>
    <li><a href="#8-数据库性能优化-">8 数据库性能优化 ✅✅</a></li>
    <li><a href="#9-数据库索引-">9 数据库索引 ✅✅</a></li>
    <li><a href="#10-数据库视图-">10 数据库视图 ✅✅✅</a></li>
    <li><a href="#11-数据库的分区分表分库-">11 数据库的分区分表分库 ✅✅</a>
      <ul>
        <li><a href="#111-常见的分区方式-">11.1 常见的分区方式 ✅✅</a></li>
        <li><a href="#112-分表分库-">11.2 分表分库 ✅✅</a></li>
      </ul>
    </li>
    <li><a href="#12-分布式数据库-">12 分布式数据库 ✅✅✅</a>
      <ul>
        <li><a href="#121-分布式数据库的层次-">12.1 分布式数据库的层次 ✅✅✅</a></li>
        <li><a href="#122-分片模式-">12.2 分片模式 ✅✅✅</a></li>
        <li><a href="#123-分布模式-">12.3 分布模式 ✅✅✅</a></li>
        <li><a href="#124-两阶段提交协议-">12.4 两阶段提交协议 ✅✅</a></li>
        <li><a href="#125-分布式数据库的特点-">12.5 分布式数据库的特点 ✅✅✅</a></li>
        <li><a href="#126-联邦数据库-">12.6 联邦数据库 ✅</a></li>
      </ul>
    </li>
    <li><a href="#13-nosql-">13 NoSQL ✅✅</a>
      <ul>
        <li><a href="#131-nosql分类-">13.1 NoSQL分类 ✅✅</a></li>
      </ul>
    </li>
    <li><a href="#课后习题">课后习题</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












